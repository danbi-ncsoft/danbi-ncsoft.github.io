---
layout: post
title:  "모바일 마케팅 분석 무작정 따라하기 #1"
date:   2019-08-06 18:00:00
categories: Works
author : DANBI
cover:  "/assets/works/mobile_mkt/title_mobile_mkt.jpg"
---

오늘은 조금 새로운 주제(?)인 모바일 게임 마케팅 분석과 관련된 글을 소개해 드릴까 합니다! 이 업무는 모바일 마케팅 부서에서 기존에 분석하던 내용 중 몇몇 한계점을 인지하고 다른 대안이 있을지 요청하여 시작된 분석입니다. 제가 인턴 생활을 마치고 처음 정직원 입사 이후 맡게 되었던 업무이기도 해서 서투르지만 모바일 마케팅의 이해부터 데이터 추출, 전처리, 분석, 해석까지 무작정 따라 해보며 익힌 업무였습니다. (포스팅 제목의 이유;;ㅎㅎ) 그간 진행했던 업무 내용을 정리하기 앞서, 이번 포스팅에서는 일반적인 모바일 앱 마케팅 분석 관련 내용을 다루려 합니다. 또한 저희 실에서 해결해야 했던 기존 마케팅 분석의 한계점을 소개해 드리겠습니다. 다음 포스팅에서는 이런 한계점을 극복하기 위해 저희 실에서 진행한 분석 내용과 이를 바탕으로 개발한 신규 지표에 대해 말씀드리겠습니다!

## 모바일 앱 마케팅 분석 

기본적으로 모바일 앱 마케팅 분석은 우리 서비스를 이용하는 유저가 어떤 매체나 채널을 통해 유입되었는지를 추적하는 것에서부터 시작합니다. (세부적인 기술은 업체마다 조금씩 다르겠지만 대체로) 광고 매체에서는 어떤 유저가 광고를 클릭할 경우, 해당 유저가 어떤 광고를 클릭해서 앱 스토어에 방문하게 되었는지를 식별할 수 있는 정보를 URL에 심어 놓습니다. 이것을 ‘추적 URL’ 이라고 부릅니다. 예를 들어 아래 그림은 페이스북을 통해 저희 블로그에 방문할 경우 남게 되는 추적 URL입니다. 

<p align="center">
<img src="/assets/works/mobile_mkt/url.png" style="width:6in" />
[그림1] 추적 URL 예시 (빨간색 박스가 페이스북이 제공하는 클릭 식별자)
</p>

이렇게 유입된 유저가 앱 스토어에서 앱을 설치/실행하게 되면 해당 앱에서 수집하는 유저 식별자 정보와 추적 URL을 통해 확보한 유저 식별자 정보를 매칭함으로써 유입 경로를 추적하게 됩니다. (이에 대한 좀 더 자세한 내용이 궁금하신 분은 [이 링크](http://www.openads.co.kr/nTrend/article/3368)를 한번 읽어 보시기 바랍니다.)

이와 같이 유저의 유입을 추적하고 분석하는 트래킹 도구는 굉장히 다양합니다. 웹 분야에서는 Google Analytics 나 Adobe 사의 Omniture 가 유명하며, 모바일 앱 분야에서는 Adjust 나 Appsflyer 등이 많이 사용됩니다. 이 도구들은 단지 광고로 유입된 유저들을 식별하고 유입 경로를 추적하는 것에 그치지 않고 마케팅 분석을 위한 다양한 지표를 집계하는 기능도 제공합니다. 

마케팅에서 활용하는 지표의 종류는 매우 다양하지만 사용하는 기준이나 관점이 조금씩 다를 뿐 대부분 비슷한 정보를 담고 있습니다. 보통 많이 활용하는 지표는 다음과 같습니다. (지표에 대한 좀 더 상세한 내용은 [이 링크](https://applift.com/ko/blog/acronym-mobile-marketing)를 참고하시기 바랍니다.)

* 광고 유입량 관련
  * 광고 클릭 수 및 비율
  * 앱 설치 수 (혹은 유입 유저 수)
* 광고비 대비 효과 관련
  * CPC (Cost Per Click), CPV (Cost Per View), CPI (Cost Per Install), CPA (Cost Per Action) - 각각 전체 광고비를 광고로 인해 유입된 유저의 해당 광고 클릭, 시청, 앱 설치, 특정 행동(회원가입이나 게임 플레이 혹은 구매 등) 횟수로 나눈 비용
  *  UAC (User Acquisition Cost) - 광고비를 해당 광고를 통해 유입된 유저로 나눈 비용
  * ROAS (Returns On Advertising Spend) - 광고비 대비 매출 비율
* 유저 활동 및 가치 관련 지표
  * DAU (Daily Active Users), WAU (Weekly Active Users), MAU (Monthly Active Users) -일 / 주 / 월 활동 유저 수
  * 잔존율 - 유입 유저가 일정 기간 동안 계속 서비스를 유지하는 비율
  * 유입 유저에 의해 발생된 매출 
  * BU (Buying User) - 구매 유저 수. PU (Paying User) 라고도 함
  * ARPU (Average Revenue Per User), ARPPU (Average Revenue Per Paying User) - 1인당 평균 결제금액, 결제한 유저의 1인당 평균 결제 금액
  * LTV (Life Time Value) - 유저 생애 가치. CLV (Customer Lifetime Value) 라고도 함

마케터는 이런 다양한 지표를 활용하여 마케팅 성과를 측정하게 됩니다. 더 나아가 위 성과 지표들을 매체별 혹은 유입 단계별로 비교함으로써 좀 더 최적화된 마케팅 전략을 세우거나 개선하는데 활용할 수 있습니다. 

마케팅 분석 도구는 광고 어뷰징을 검출하는 데에도 활용됩니다. 광고 어뷰징이란 쉽게 말해 광고를 통해 부당한 이득을 챙기는 행위를 말합니다. 대개 모바일 앱 광고는 해당 광고를 클릭하거나 광고를 통해 유입된 유저가 앱을 설치 및 실행할 경우 건당 일정 금액을 지불하는 방식으로 광고비를 책정합니다. 따라서 광고 매체 입장에서는 최대한 많은 유저가 자신들의 광고를 클릭해서 해당 앱을 설치 및 실행하도록 유도하는 것이 중요합니다. 그런데 실제 광고를 통해 정상적으로 유입되어 앱을 설치하지 않았음에도 불구하고 마치 광고를 통해 유입된 것처럼 속임으로써 부당하게 광고 수익을 얻는 경우가 있습니다. 이렇게 되면 광고주는 마케팅 예산을 과도하게 소모하게 되어 오히려 마케팅이 득보다 실이 될 수 있죠. 따라서 마케팅 분석을 할 때는 이런 어뷰징을 탐지함으로써 부당한 광고비 집행을 막는 것 역시 매우 중요합니다. (광고 어뷰징에 대한 좀 더 자세한 내용이 궁금하신 분은 Adjust 에서 발간한 [허위 트래픽 전문가 가이드](https://learn.adjust.com/rs/108-GAZ-487/images/KO_An_Expert%E2%80%99s_Guide_to_Mobile_Ad_Fraud.pdf)를 참고하시기 바랍니다.)

아래 그림은 모바일 마케팅 분석 과정을 도식화한 것입니다.

<p align="center">
<img src="/assets/works/mobile_mkt/mkt_process.png" style="width:6in" />
[그림2] 모바일 앱 마케팅 분석 과정
</p>

## 모바일 마케팅 분석의 한계점 

모바일 마케팅 부서에서 기존에 진행했던 분석은 여러 가지 한계점이 존재하였습니다. 특히 게임 분야의 특수성을 고려했을 때 더욱 두드러지는 한계점 몇 가지 있었는데 정리하자면 다음과 같습니다.

**첫째, 정교한 유저 식별 및 추적이 어렵습니다.**

모바일 앱에서는 보통 유저 식별을 위해 ADID 라는 값을 사용합니다. ADID는 안드로이드나 iOS에서 광고 목적을 위해 제공하는 식별자인데 안드로이드에서는 GAID, iOS에서는 IDFA 라고 하죠. 아래 그림과 같이 내 핸드폰 정보에서 본인의 ADID를 확인하거나 변경할 수 있습니다. 

<p align="center">
<img src="/assets/works/mobile_mkt/adid.PNG" style="width:6in" />
(핸드폰에서 자신의 ADID를 확인하고 재설정 할 수 있습니다.)
</p>

그런데 ADID 단위의 유저 분석에는 몇 가지 문제가 있습니다. 우선, ADID를 재설정하거나 휴대폰 기기를 바꾼 유저의 경우는 동일한 유저임에도 불구하고 다른 유저로 식별될 수 있습니다. 반대로 하나의 ADID로 여러 개의 게임 계정을 생성하여 플레이를 한 경우에는 단 하나의 유저로 취급되겠죠. 특히, 요즘은 '녹스'나 '블루 스택' 같은 에뮬레이터를 이용해 PC에서 모바일 게임을 즐기는 유저들이 많습니다. 이 때, 에뮬레이터 이미지를 복사해 여러 PC에서 공유할 경우 모두 같은 ADID 정보를 갖게 될 수도 있습니다.

<p align="center">
<img src="/assets/works/mobile_mkt/naruto_clone.jpg" style="width:6in" />
(실제로 500개 넘는 게임 계정을 갖는 수상한(!) ADID도 있습니다;;)

</p>

결국 ADID 기준의 분석으로는 유저 개개인이 실제로 어떤 유저인지 파악하기 어렵습니다. 광고 효과를 제대로 측정하려면 이 유저가 정말로 광고를 통해 들어온 신규 유저인지, 이탈한 유저가 다시 복귀한 것인지, 아니면 단순히 기존에 플레이하던 유저가 디바이스를 교체하여 새로운 ADID를 발급받은 것인지를 구분해야 하겠죠. 

더 나아가 유입된 유저의 게임 활동을 심도 있게 파악하는 것도 필요합니다. 유저들은 저마다 성향이 달라 다른 유저와의 소통(채팅이나 혈맹 활동)을 많이 하는 유저, PvP 를 즐기는 유저, 사냥이나 아이템 파밍 등의 성장 활동을 주로 하는 유저 등 다양한 특징을 갖고 있는데 이런 성향을 고려한 마케팅 전략을 수립한다면 좀 더 고도화된 마케팅이 가능하기 때문입니다.

**둘째, 어뷰징 탐지가 어렵습니다.**

많은 분석 업체들이 광고 어뷰징 탐지를 위해 클릭 로그나 설치 로그 등을 활용하여 여러 가지 탐지 룰을 개발하고 있지만, 그에 못지않게 어뷰징 기법 역시 점점 정교해지고 있습니다. 예를 들어 어뷰징 기법 중 SDK Spoofing 이라는 기법이 있습니다. 이것은 실제 앱을 설치하거나 실행하지 않은 유저의 ADID를 이용해서 트래킹 서버에 허위 이벤트 로그를 전송해서 트래킹 툴을 속이는 기법입니다. 그런데 이런 허위 이벤트 로그를 탐지하기 위해 정교한 탐지 룰을 적용하다 보면 자칫 정상 유저의 이벤트 로그를 어뷰징으로 잘못 탐지하는 경우가 발생하기 쉽습니다. 그리고 이런 오탐률이 높아지면 광고 매체의 수익률에 악영향을 주고 광고 성과 분석의 신뢰도를 떨어뜨릴 수 있죠. 따라서 오탐을 줄이면서 최대한 많은 어뷰징을 검출해야 하는데 기존의 트래킹방식을 통해 얻는 정보만으로는 한계가 있습니다. 

<p align="center">
<img src="/assets/works/mobile_mkt/sdkspoofing.PNG" style="width:4in" />
(출처: Adjust)

</p>

**셋째, 광고 효과 지표 집계 시 월 단위의 유입 ADID로 측정하여 각각의 계정을 공평하게 측정하기 어렵습니다.**

광고 수익률 지표인 ROAS 값 계산 시 단순히 해당 월에 들어온 ADID가 발생한 매출을 기반으로 측정합니다. 광고의 목적을 생각해본다면, 수익률을 계산할 때에는 기존 유저의 매출은 제외하고 신규/복귀 유저의 매출만 보는 것이 맞을 것입니다. 또한 월초에 유입된 유저와 월말에 유입된 유저는 매출을 발생시킬 수 있는 기간이 다르므로 집계 기준이 공평하지 않은 문제도 있습니다. 그 밖에도 유저들이 이탈할 때까지 발생시키는 평생 가치를 고려하지 못하는 점이 있는데, 사실상 매체마다 유입된 유저의 성격이 달라 이탈을 빨리 할 수도(앱 설치만 하면 리워드를 주는 매체로 들어온 경우) 늦게 할 수도 있어 이러한 부분도 중요할 것입니다. 



**넷째, 광고 매체별 혹은 유입 단계별 성과를 객관적이고 종합적으로 측정하기 어렵습니다.**

광고 효과와 관련된 지표들은 워낙 다양하고 직접적으로 비교하기 어렵기 때문에, 광고 매체별 혹은 유입 단계별 성과를 객관적이고 종합적으로 측정하기 어렵습니다. 가령, 유입 유저 수는 많지만 ROAS는 낮은 매체와 유입 유저 수는 적지만 ROAS가 매우 높은 매체가 있다면 과연 어느 매체가 더 좋은 매체일까요? (물론 유입 유저 수와 ROAS 모두 높은 매체가 좋겠지만…) 실제로 ROAS 값이 매우 좋은 매체를 살펴보면, 실상은 매우 적은 일부 유저들로 인해 결과가 왜곡되는 경우가 많습니다. 따라서 다양한 지표들을 이용해 종합적으로 성과를 판단할 수 있는 방법이 필요합니다. 

<p align="center">
<img src="/assets/works/mobile_mkt/sad.jpg" style="width:3in" />
(마냥 좋은 매체인줄 알았는데...)

</p>

## 중간 정리 

지금까지의 내용을 정리하자면, 모바일 앱 마케팅 분석 분야에서는 광고를 통해 유입되는 유저에 대해 각종 이벤트 로그를 통해 유입되는 경로를 추적하고, 여기서 나온 여러 가지 데이터를 이용해 마케팅 성과를 측정하기 위한 여러 가지 지표를 집계하는 한편 부당한 광고비 집행을 막기 위한 어뷰징 탐지를 수행하고 있습니다. 
그런데 여기에는 몇 가지 한계점도 존재하고 있죠. 이에 저희는 기존의 트래킹 로그뿐만 아니라 내부에서 적재하고 있는 게임 활동 로그를 활용하여 어뷰징 탐지 및 광고 성과 측정에 활용할 수 있는 지표 보고서를 마케팅 부서에 제공하는 작업을 진행했습니다. 다음 포스팅에서는 이렇게 기존 모바일 마케팅 지표가 가진 한계점을 극복하기 위해 수행한 작업에 대해 설명하겠습니다.